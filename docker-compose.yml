version: "3"
services:
    api:
      build:
        context: .
        dockerfile: src/Bancor.Api/Dockerfile
      ports:
        - "54600:54600"
      depends_on:
        - silo-host
      networks: 
        - "bancor"
    silo-host:
      build:
        context: .
        dockerfile: src/Bancor.SiloHost/Dockerfile
      depends_on:
        - db        
      networks: 
        - "bancor"
    db:
      image: "microsoft/mssql-server-linux:2017-latest"
      environment:
          SA_PASSWORD: "MyPassword001"
          ACCEPT_EULA: "Y"
      ports:
        - "1433:1433"
      networks: 
        - "bancor"
networks:
  bancor:
